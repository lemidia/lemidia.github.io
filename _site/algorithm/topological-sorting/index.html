<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.17.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>위상정렬(Topological sorting) - Code Factory</title>
<meta name="description" content="DAG에서 정점들의 위상순서를 결정하는 방법 ">


  <meta name="author" content="Gyeong">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Code Factory">
<meta property="og:title" content="위상정렬(Topological sorting)">
<meta property="og:url" content="http://localhost:4000/algorithm/topological-sorting/">


  <meta property="og:description" content="DAG에서 정점들의 위상순서를 결정하는 방법 ">



  <meta property="og:image" content="http://localhost:4000/assets/images/headerLogo2.jpg">





  <meta property="article:published_time" content="2018-07-07T00:00:00+09:00">



  <meta property="article:modified_time" content="2019-02-15T22:06:00+09:00">



  

  


<link rel="canonical" href="http://localhost:4000/algorithm/topological-sorting/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Gyeong",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Code Factory Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
<link rel="manifest" href="/icons/site.webmanifest">
<link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/icons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/icons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<!-- end custom head snippets -->

<script data-ad-client="ca-pub-8663880613144845" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- mathjax -->
    
      <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$'] ],
    processEscapes: true,
  }
});
MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
	  alert("Math Processing Error: "+message[1]);
	});
MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
	  alert("Math Processing Error: "+message[1]);
	});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
    
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/logo4.png" alt=""></a>
        
        <a class="site-title" href="/">
          Code Factory
          <span class="site-subtitle">Inspiration of Computer science</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/categories/" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/algorithm/" >Algorithm</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/datastructure/" >Data Structure</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/development/" >Development</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  











<div class="page__hero--overlay"
  style=" background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('/assets/images/headerLogo2.jpg');"
>
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          위상정렬(Topological sorting)

        
      </h1>
      
        <p class="page__lead">DAG에서 정점들의 위상순서를 결정하는 방법
</p>
      
      
        <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  16 minute read

</p>
      
      
      
    </div>
  
  
    <span class="page__hero-caption">Photo credit: <a href="https://unsplash.com"><strong>Unsplash</strong></a>
</span>
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/gyeong.jpeg" alt="Gyeong" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Gyeong</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>It is in the moment of decisions that your destiny is shaped.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Republic Of Korea</span>
        </li>
      

      
        
          
            <li><a href="mailto:poiu2186@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
          
        
          
            <li><a href="https://github.com/lemidia" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
            <li><a href="https://www.acmicpc.net/user/lemidia" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Online Judge</a></li>
          
        
          
        
          
        
          
            <li><a href="https://www.instagram.com/gyeong_it/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="위상정렬(Topological sorting)">
    <meta itemprop="description" content="DAG에서 정점들의 위상순서를 결정하는 방법">
    <meta itemprop="datePublished" content="2018-07-07T00:00:00+09:00">
    <meta itemprop="dateModified" content="2019-02-15T22:06:00+09:00">

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              
                <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
                <ul class="toc__menu">
  <li><a href="#위상정렬topological-sorting">위상정렬(Topological sorting)</a>
    <ul>
      <li><a href="#example">Example</a></li>
      <li><a href="#algorithm">Algorithm</a>
        <ul>
          <li><a href="#kahns-algorithm">Kahn’s algorithm</a></li>
          <li><a href="#depth-first-search">Depth-first search</a></li>
        </ul>
      </li>
      <li><a href="#implementation">Implementation</a></li>
      <li><a href="#references">References</a></li>
    </ul>
  </li>
</ul>

              
            </nav>
            <!-- devinlife comment : right-sidebar ads -->
            <nav class="toc-custom">
              
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- lemidia2 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8663880613144845"
     data-ad-slot="5185585092"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
              
            </nav>
          </aside>
        
        <h1 id="위상정렬topological-sorting">위상정렬(Topological sorting)</h1>

<p>컴퓨터 과학에서 <strong>위상정렬(Topological sorting)</strong>은 방향 그래프에서 정점들의 <strong>선형적인 순서</strong>를 말하는데, 여기서 정점들의 선형적 순서란 정점 u로 부터 정점 v로 가는 간선에 대해 순서상 정점 u가 정점 v보다 앞에 있다는 것을 뜻한다. 예를 들어, 방향 그래프에서 정점들은 수행될 작업들을 뜻할 수 있고, 간선은 어떤 작업이 다른 작업보다 먼저 수행되어야 한다는 제약을 나타낼 수 있다. 즉, 위상정렬의 결과는 작업들이 수행되는 일련의 순서를 의미한다. <strong>위상정렬은 사이클이 형성되지 않은 그래프</strong>에서 가능하다. 즉, 사이클이 없는 방향 그래프에서 적용이 가능한데, 이런 그래프를 DAG(Directed acyclic graph)라고 한다. 어떤 DAG에 대해서도 위상정렬을 적용하면 적어도 하나의 위상순서를 가지게 되고 경우에 따라 여러개의 위상순서를 가질수 있다. 위상정렬 알고리즘은 DAG에서 위상순서를 구하는데 선형시간이 걸린다고 알려져 있다.</p>

<h2 id="example">Example</h2>

<p>위상정렬은 현실적인 예로는 제약에 따른 작업들의 스케줄링 순서라고 이해하면 된다. 작업들은 정점으로 나타내어지고 정점에서 다른 정점으로의 간선이 있는데, 이는, x, y 두 정점을 끝 점으로 하고 x-&gt;y로의 방향 간선 E(x,y)이 있을 때 작업 y가 수행되기 위해서는 x가 사전에 먼저 수행 완료되어야 한다는 것을 뜻한다. 작업 y의 제약은 x인 것이다. 이처럼 제약이 있는 해당 작업들에 대해서 위상정렬은 작업들의 수행순서를 나타낸다.</p>

<p>밑 그림에서 5번 정점과 11번 정점을 보자. 정점은 작업으로 생각하고 간선은 제약 또는 작업 흐름으로 보면 위상정렬에서는 5번 작업이 완료되고 11번 작업이 수행된다는 것이다. 즉, 11번 작업이 수행되기 위해선 5번 작업이 사전에 완료가 되어야 한다는 것을 말한다. 다른 작업들도 마찬가지로, 9번 정점이 수행되기 위해서는 11번과 8번 작업이 사전에 완료가 되어야 한다.</p>

<p><img src="/assets/images/topological-sort0.png" alt="alt" width="300px" height="200px" class="align-center" /></p>

<p class="notice--warning"><strong>위상순서:</strong> DAG의 모든 간선 <code class="highlighter-rouge">u-&gt;v</code>에 대해서, 정점 u는 v보다 순서상에서 먼저 나와야 한다.</p>

<p>다음은 위 그림에서의 위상정렬 순서인데 기준에 따라 여러가지가 있을 수 있다.</p>

<ul>
  <li><code class="highlighter-rouge">5-&gt;7-&gt;3-&gt;11-&gt;8-&gt;2-&gt;9-&gt;10</code> (왼쪽에서 오른쪽, 밑에서 아래로)</li>
  <li><code class="highlighter-rouge">3-&gt;5-&gt;7-&gt;8-&gt;11-&gt;2-&gt;9-&gt;10</code> (현재 작업 가능한 작업들의 번호가 작은순서)</li>
  <li><code class="highlighter-rouge">3-&gt;7-&gt;8-&gt;5-&gt;11-&gt;10-&gt;2-&gt;9</code> (현재 작업 가능한 작업들의 무작위 선택)</li>
</ul>

<h2 id="algorithm">Algorithm</h2>

<p>DAG에서의 위상정렬을 구하는 두 가지 알고리즘을 살펴보자.<br />
이 두 알고리즘은 모두 $O(V+E)$의 선형시간에 동작한다. V는 정점의 개수, E는 간선의 개수이다.</p>

<h3 id="kahns-algorithm">Kahn’s algorithm</h3>

<p>위상정렬을 구하는 이 알고리즘은 Kahn (1962)에 의해 처음 소개 되었다.</p>

<p>Kahn’s algorithm은 해당 그래프에서의 진입간선(Incoming edge)을 가지고 있지 않은 정점으로 부터 시작해서 그 정점과 연결된 정점의 진입간선(Incoming edge)을 삭제 하면서 동작한다.</p>

<p>다음은 Kahn’s algorithm의 위상정렬 의사코드이다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>S ← Set of all nodes with no incoming edge
L ← Empty list that will contain the sorted elements

while S is non-empty do
    remove a node n from S
    add n to tail of L
    for each node m with an edge e from n to m do
        remove edge e from the graph
        if m has no other incoming edges then
            insert m into S

if graph has edges then
    return error   (graph has at least one cycle)
else 
    return L   (a topologically sorted order)
</code></pre></div></div>

<ol>
  <li>진입간선이 없는 없는 정점들을 시작 리스트 S에 넣는다.</li>
  <li>S가 빈 공간이 아닐 때 까지 다음을 반복한다.</li>
  <li>S의 앞에서 부터 정점 n을 하나 취해서 위상정렬 리스트 L의 끝에 추가한다.</li>
  <li>정점 n과 m을 양 끝점으로 하는 간선 e와 정점 m에 대해서
    <ol>
      <li>간선 e를 삭제한다. (정점 m의 진입간선 삭제와 같은 의미이다.)</li>
      <li>정점 m의 진입간선의 개수가 0개라면, S에 m을 추가한다.</li>
    </ol>
  </li>
  <li>그래프에 간선이 남아있으면 적어도 하나의 사이클이 있다는 의미이므로 error를 리턴한다. 그렇지 않으면 위상정렬 순서를 리턴한다.</li>
</ol>

<hr />

<p>위상정렬을 적용할 그래프가 DAG이라면 이 알고리즘은 위상정렬 순서 L을 리턴할 것이고, 그래프에 사이클이 하나라도 있다면 위상정렬은 불가능하다.</p>

<p>집합 S에서 n이 삭제되는 순서에 따라 위상정렬의 결과는 달라지기 때문에, 한 그래프에서 위상정렬은 특정하지 않고 여러개가 존재할 수 있다. S는 큐와 스택 같은 정점들을 담을 수 있는 집합이 될 수 있다.</p>

<p>구현에 있어서 간선을 삭제하는 방법과 정점 m의 진입간선 개수를 추적하는 방법은 각 정점마다 진입간선의 개수를 가지고 있는 배열을 둠으로써 쉽게 구현이 가능하다.</p>

<ul>
  <li>indegree[m]은 m의 진입간선 개수를 의미한다.</li>
  <li>indegree[m] = indegree[m] - 1 을 함으로써 m의 진입간선을 하나 삭제할 수 있다.</li>
  <li>indegree[m] == 0 이면 m의 진입간선은 없으므로 m을 S에 추가한다.</li>
</ul>

<h3 id="depth-first-search">Depth-first search</h3>

<p>위상정렬을 구하는 다른 방법은 깊이우선탐색(Depth-first search)에 기반한 것이다.</p>

<p>이 방법은 그래프의 기준에 따라 또는 임의의 순서로 노드들을 탐색해 나가다가 이미 방문이 완료된 정점 또는 더 이상 탐색할 정점을 가지지 않은 정점에 대해서 위상정렬 리스트에 노드를 추가하는 방법이다.</p>

<p>다음은 Depth-first search에 기반한 위상정렬의 의사코드이다.</p>

<ul>
  <li><code class="highlighter-rouge">permanent mark</code>: 더 이상 방문할 정점이 없어 DFS 탐색이 끝난 정점의 표시를 뜻한다.</li>
  <li><code class="highlighter-rouge">temporary mark</code>: DFS 탐색이 진행 중인 정점의 표시를 뜻한다.</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>L ← Empty list that will contain the sorted nodes
while exists nodes without a permanent mark do
    select an unmarked node n
    visit(n)

function visit(node n)
    if n has a permanent mark then
        return
    if n has a temporary mark then
        stop   (not a DAG)

    mark n with a temporary mark

    for each node m with an edge from n to m do
        visit(m)

    remove temporary mark from n
    mark n with a permanent mark
    add n to head of L
</code></pre></div></div>

<p>DAG에서 방문완료 되지 않은 정점들이 있는 동안, 정점을 하나 선택해 탐색을 진행한다.</p>

<p>function visit(node n):</p>
<ol>
  <li>정점 n이 방문완료 정점이면 백트랙 한다.</li>
  <li>정점 n이 현재 방문 중인 정점이면 역 간선(Back edge)이 있다는 것이므로 사이클이 있다는 말이된다. 알고리즘을 종료한다.</li>
  <li>위 1, 2번 조건이 아니라면, 정점 n을 진행 중인 정점으로 표시한다.</li>
  <li>정점 n과 m을 양 끝점으로 하는 간선의 정점 m에 대해서<br />
 정점 m을 재귀적으로 탐색한다. (1번으로 간다.)</li>
  <li>정점 n을 방문완료 표시하고 L의 맨 처음에 추가한다.</li>
</ol>

<p>DFS 함수에서 <code class="highlighter-rouge">temporary mark</code>검사를 하고 있는데, DFS 탐색에 있어서 방문되어 지고 있는 정점이 방문완료 되지 못한 채 다른 정점에 의해서 방문이 되면, 역 간선(Back edge)이 있다는 의미가 된다. 이는 사이클이 있다는 것과 같은 의미이다.</p>

<h2 id="implementation">Implementation</h2>

<p>다음의 구현들은 밑의 그래프를 예제로 사용하였다.</p>

<p><img src="/assets/images/topological-sort1.png" alt="alt" width="300px" height="200px" class="align-center" /></p>

<p>다음은 Kahn’s algorithm을 구현한 java 코드이다.</p>

<ul>
  <li>Graph class: 간선 정보들로 부터 그래프를 구축한다.</li>
  <li><code class="highlighter-rouge">indegree.set(dest, indegree.get(dest) + 1);</code>: 간선 정보들로 부터 그래프를 구축하면서 해당 정점에 해당하는 진입간선을 하나씩 추가한다.</li>
  <li><code class="highlighter-rouge">Stack&lt;Integer&gt; S = new Stack&lt;&gt;();</code>: 정점들을 담을 집합 S로는 스택을 사용하였다.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="c1">// data structure to store graph edges</span>
<span class="kd">class</span> <span class="nc">Edge</span>
<span class="o">{</span>
	<span class="kt">int</span> <span class="n">source</span><span class="o">,</span> <span class="n">dest</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">Edge</span><span class="o">(</span><span class="kt">int</span> <span class="n">source</span><span class="o">,</span> <span class="kt">int</span> <span class="n">dest</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">source</span> <span class="o">=</span> <span class="n">source</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">dest</span> <span class="o">=</span> <span class="n">dest</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">};</span>

<span class="c1">// class to represent a graph object</span>
<span class="kd">class</span> <span class="nc">Graph</span>
<span class="o">{</span>
	<span class="c1">// A List of Lists to represent an adjacency list</span>
	<span class="nc">List</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">adjList</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

	<span class="c1">// stores indegree of a vertex</span>
	<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">indegree</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

	<span class="c1">// Constructor</span>
	<span class="nc">Graph</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Edge</span><span class="o">&gt;</span> <span class="n">edges</span><span class="o">,</span> <span class="kt">int</span> <span class="no">N</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">adjList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;(</span><span class="no">N</span><span class="o">);</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="no">N</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">adjList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;());</span>
		<span class="o">}</span>

		<span class="c1">// initialize indegree of each vertex by 0</span>
		<span class="n">indegree</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;(</span><span class="nc">Collections</span><span class="o">.</span><span class="na">nCopies</span><span class="o">(</span><span class="no">N</span><span class="o">,</span> <span class="mi">0</span><span class="o">));</span>

		<span class="c1">// add edges to the undirected graph</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">edges</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span>
		<span class="o">{</span>
			<span class="kt">int</span> <span class="n">src</span> <span class="o">=</span> <span class="n">edges</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">source</span><span class="o">;</span>
			<span class="kt">int</span> <span class="n">dest</span> <span class="o">=</span> <span class="n">edges</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">dest</span><span class="o">;</span>

			<span class="c1">// add an edge from source to destination</span>
			<span class="n">adjList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">src</span><span class="o">).</span><span class="na">add</span><span class="o">(</span><span class="n">dest</span><span class="o">);</span>

			<span class="c1">// increment in-degree of destination vertex by 1</span>
			<span class="n">indegree</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">dest</span><span class="o">,</span> <span class="n">indegree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">dest</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">TopologicalSort</span>
<span class="o">{</span>
	<span class="c1">// performs Topological Sort on a given DAG</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nf">doTopologicalSort</span><span class="o">(</span><span class="nc">Graph</span> <span class="n">graph</span><span class="o">,</span> <span class="kt">int</span> <span class="no">N</span><span class="o">)</span>
	<span class="o">{</span>
		<span class="c1">// list to store the sorted elements</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="no">L</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

		<span class="c1">// get indegree information of the graph</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">indegree</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">indegree</span><span class="o">;</span>

		<span class="c1">// Set of all nodes with no incoming edges</span>
		<span class="nc">Stack</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="no">S</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Stack</span><span class="o">&lt;&gt;();</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="no">N</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">indegree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
				<span class="no">S</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
			<span class="o">}</span>
		<span class="o">}</span>

		<span class="k">while</span> <span class="o">(!</span><span class="no">S</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span>
		<span class="o">{</span>
			<span class="c1">// remove a node n from S</span>
			<span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="no">S</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>

			<span class="c1">// add n to tail of L</span>
			<span class="no">L</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">n</span><span class="o">);</span>

			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">m</span> <span class="o">:</span> <span class="n">graph</span><span class="o">.</span><span class="na">adjList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">n</span><span class="o">))</span>
			<span class="o">{</span>
				<span class="c1">// remove edge from n to m from the graph</span>
				<span class="n">indegree</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">m</span><span class="o">,</span> <span class="n">indegree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">m</span><span class="o">)</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>

				<span class="c1">// if m has no other incoming edges then</span>
				<span class="c1">// insert m into S</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">indegree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">m</span><span class="o">)</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
					<span class="no">S</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">m</span><span class="o">);</span>
				<span class="o">}</span>
			<span class="o">}</span>
		<span class="o">}</span>

		<span class="c1">// if graph has edges then graph has at least one cycle</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="no">N</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">indegree</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
			<span class="o">}</span>
		<span class="o">}</span>

		<span class="k">return</span> <span class="no">L</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span>
	<span class="o">{</span>
		<span class="c1">// List of graph edges as per above diagram</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Edge</span><span class="o">&gt;</span> <span class="n">edges</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span>
            <span class="k">new</span> <span class="nf">Edge</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">6</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Edge</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Edge</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">4</span><span class="o">),</span>
            <span class="k">new</span> <span class="nf">Edge</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">6</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Edge</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">0</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Edge</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">),</span>
            <span class="k">new</span> <span class="nf">Edge</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Edge</span><span class="o">(</span><span class="mi">7</span><span class="o">,</span> <span class="mi">0</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Edge</span><span class="o">(</span><span class="mi">7</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
        <span class="o">);</span>

		<span class="c1">// Set number of vertices in the graph</span>
		<span class="kd">final</span> <span class="kt">int</span> <span class="no">N</span> <span class="o">=</span> <span class="mi">8</span><span class="o">;</span>

		<span class="c1">// create a graph from edges</span>
		<span class="nc">Graph</span> <span class="n">graph</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Graph</span><span class="o">(</span><span class="n">edges</span><span class="o">,</span> <span class="no">N</span><span class="o">);</span>

		<span class="c1">// Perform Topological Sort</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="no">L</span> <span class="o">=</span> <span class="n">doTopologicalSort</span><span class="o">(</span><span class="n">graph</span><span class="o">,</span> <span class="no">N</span><span class="o">);</span>

		<span class="k">if</span> <span class="o">(</span><span class="no">L</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="no">L</span><span class="o">);</span>  <span class="c1">// print topological order</span>
		<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Graph has at least one cycle. "</span> <span class="o">+</span>
							  <span class="s">"Topological sorting is not possible"</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Output:
7 5 1 2 3 4 0 6
</code></pre></div></div>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://www.techiedelight.com/kahn-topological-sort-algorithm/">Topological Sorting - Kahn’s algorithm</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Topological_sorting">Topological Sorting</a></li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#cycle" class="page__taxonomy-item" rel="tag">Cycle</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#dag" class="page__taxonomy-item" rel="tag">DAG</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#dfs" class="page__taxonomy-item" rel="tag">DFS</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#sort" class="page__taxonomy-item" rel="tag">Sort</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#algorithm" class="page__taxonomy-item" rel="tag">Algorithm</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2019-02-15">February 15, 2019</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=%EC%9C%84%EC%83%81%EC%A0%95%EB%A0%AC%28Topological+sorting%29%20http%3A%2F%2Flocalhost%3A4000%2Falgorithm%2Ftopological-sorting%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Falgorithm%2Ftopological-sorting%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Falgorithm%2Ftopological-sorting%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/algorithm/greedy-algorithm/" class="pagination--pager" title="그리디 알고리즘(Greedy Algorithm)-예정 포스트
">Previous</a>
    
    
      <a href="/algorithm/floyd-warshall/" class="pagination--pager" title="플로이드 와샬 알고리즘(Floyd Warshall Algorithm)-예정 포스트
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/development/boostcamp-week1-day2/" rel="permalink">파이썬 기초 문법
</a>
      
    </h2>
    <!--
       devinlife comments :
         아키이브 싱글 페이지(ex. 카테고리)에 각 포스트 제목 밑에 Updated 시간 표기
         기존에는 read_time이 표기. read_time -> date 변경

    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  16 minute read

</p>
    
    -->
    
       <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> January 19 2021</p>
    
    <p class="archive__item-excerpt" itemprop="description">부스트캠프 1주차 Day2 강의를 보고 내용을 정리한 노트입니다.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/development/boostcamp-week1-day1/" rel="permalink">파이썬/AI 개발환경 준비하기
</a>
      
    </h2>
    <!--
       devinlife comments :
         아키이브 싱글 페이지(ex. 카테고리)에 각 포스트 제목 밑에 Updated 시간 표기
         기존에는 read_time이 표기. read_time -> date 변경

    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  12 minute read

</p>
    
    -->
    
       <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> January 18 2021</p>
    
    <p class="archive__item-excerpt" itemprop="description">부스트캠프 1주차 Day1 강의를 보고 내용을 정리한 노트입니다.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/withoutunionbylank.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/data%20structure/unionfind/" rel="permalink">유니온 파인드(Union Find, Disjoint Set)
</a>
      
    </h2>
    <!--
       devinlife comments :
         아키이브 싱글 페이지(ex. 카테고리)에 각 포스트 제목 밑에 Updated 시간 표기
         기존에는 read_time이 표기. read_time -> date 변경

    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  6 minute read

</p>
    
    -->
    
       <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> May 14 2019</p>
    
    <p class="archive__item-excerpt" itemprop="description">중복되지 않는 부분집합들의 원소 정보를 조작하고 저장하는 자료구조
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/creativealgorithm33.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/algorithm/%ED%83%90%EC%83%89%EA%B3%B5%EA%B0%84%EC%9D%98-%EB%B0%B0%EC%A0%9C/" rel="permalink">탐색공간의 배제(Exclusion of Search Space)
</a>
      
    </h2>
    <!--
       devinlife comments :
         아키이브 싱글 페이지(ex. 카테고리)에 각 포스트 제목 밑에 Updated 시간 표기
         기존에는 read_time이 표기. read_time -> date 변경

    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  14 minute read

</p>
    
    -->
    
       <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> April 21 2019</p>
    
    <p class="archive__item-excerpt" itemprop="description">전체탐색에서 불필요한 공간을 탐색하지 않음으로써 알고리즘의 효율을 향상하는 방법
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <!-- <START> google ads added by lemidia -->
    <div>
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <!-- lemidia -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-8663880613144845"
          data-ad-slot="6829839254"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
    <!-- <END> google ads added by lemidia -->

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-title">
  <div>
    <img src="/assets/images/logo4.png" alt="">
  </div>
  <div>
    <p><Strong>Code Factory</strong></p><span>Inspiration of Computer science</span>
  </div>
</div>

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/lemidia" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
          <li><a href="https://www.instagram.com/gyeong_it/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Gyeong. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.
Hosted by Github Pages.  Made with <img src="/assets/images/love.svg" alt=""> by Gyeong</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "http://localhost:4000/algorithm/topological-sorting/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/algorithm/topological-sorting"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://lemidia-github-io.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
